// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using TradingSystem.DAL;

namespace TradingSystem.Migrations
{
    [DbContext(typeof(MarketContext))]
    partial class MarketContextModelSnapshot : ModelSnapshot
    {
        protected override void BuildModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("Relational:MaxIdentifierLength", 128)
                .HasAnnotation("ProductVersion", "5.0.7")
                .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

            modelBuilder.Entity("TradingSystem.Business.Delivery.DeliveryStatus", b =>
                {
                    b.Property<string>("PackageId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<bool>("Status")
                        .HasColumnType("bit");

                    b.Property<Guid>("StoreId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("StoreName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Username")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("PackageId");

                    b.ToTable("deliveryStatuses");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.Address", b =>
                {
                    b.Property<Guid>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ApartmentNum")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("City")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("State")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Street")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Zip")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("id");

                    b.ToTable("addresses");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.BidsPackage.BidState", b =>
                {
                    b.Property<Guid>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("BidsManagerid")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("id");

                    b.HasIndex("BidsManagerid");

                    b.ToTable("BidStates");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.BidsPackage.BidsManager", b =>
                {
                    b.Property<Guid>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("sid")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("id");

                    b.HasIndex("sid")
                        .IsUnique()
                        .HasFilter("[sid] IS NOT NULL");

                    b.ToTable("BidsManager");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.Category", b =>
                {
                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("Name");

                    b.ToTable("categories");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.Product", b =>
                {
                    b.Property<Guid>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("CategoryName")
                        .HasColumnType("nvarchar(450)");

                    b.Property<Guid?>("Storesid")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("_name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<double>("_price")
                        .HasColumnType("float");

                    b.Property<int>("_quantity")
                        .HasColumnType("int");

                    b.Property<string>("_storeName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<double>("_weight")
                        .HasColumnType("float");

                    b.Property<string>("category")
                        .HasColumnType("nvarchar(max)");

                    b.Property<double>("discount")
                        .HasColumnType("float");

                    b.Property<int>("rating")
                        .HasColumnType("int");

                    b.HasKey("id");

                    b.HasIndex("CategoryName");

                    b.HasIndex("Storesid");

                    b.ToTable("products");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.PurchasePolicy", b =>
                {
                    b.Property<Guid>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("id");

                    b.ToTable("PurchasePolicy");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.ShoppingBasket", b =>
                {
                    b.Property<Guid>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ShoppingCartusername")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("ShoppingCartusername1")
                        .HasColumnType("nvarchar(450)");

                    b.Property<Guid?>("storesid")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("id");

                    b.HasIndex("ShoppingCartusername");

                    b.HasIndex("ShoppingCartusername1");

                    b.HasIndex("storesid");

                    b.ToTable("membersShoppingBaskets");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.ShoppingCart", b =>
                {
                    b.Property<string>("username")
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("username");

                    b.ToTable("membersShoppingCarts");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.State", b =>
                {
                    b.Property<string>("username")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Discriminator")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("username");

                    b.ToTable("states");

                    b.HasDiscriminator<string>("Discriminator").HasValue("State");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.Statistics", b =>
                {
                    b.Property<DateTime>("date")
                        .HasColumnType("datetime2");

                    b.Property<int>("adminNum")
                        .HasColumnType("int");

                    b.Property<int>("guestsNum")
                        .HasColumnType("int");

                    b.Property<int>("managersNum")
                        .HasColumnType("int");

                    b.Property<int>("membersNum")
                        .HasColumnType("int");

                    b.Property<int>("ownersNum")
                        .HasColumnType("int");

                    b.HasKey("date");

                    b.ToTable("statistics");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.Statuses.PurchasedProduct", b =>
                {
                    b.Property<Guid>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("ProductHistoryDataid")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<double>("price")
                        .HasColumnType("float");

                    b.Property<int>("quantity")
                        .HasColumnType("int");

                    b.HasKey("id");

                    b.HasIndex("ProductHistoryDataid");

                    b.ToTable("purchasedProducts");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.Store", b =>
                {
                    b.Property<Guid>("sid")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("_addressid")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid?>("purchasePolicyid")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("sid");

                    b.HasIndex("_addressid");

                    b.HasIndex("purchasePolicyid");

                    b.ToTable("stores");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StorePackage.Bid", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<double>("Price")
                        .HasColumnType("float");

                    b.Property<Guid>("ProductId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("Status")
                        .HasColumnType("int");

                    b.Property<Guid>("StoreId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Username")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid?>("stateId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("stateId")
                        .IsUnique()
                        .HasFilter("[stateId] IS NOT NULL");

                    b.ToTable("Bids");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StorePackage.MarketRulesRequestType1", b =>
                {
                    b.Property<int>("id")
                        .HasColumnType("int");

                    b.Property<Guid>("discountId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("functionName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("storeId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("username")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("id");

                    b.ToTable("marketRulesRequestType1");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StorePackage.MarketRulesRequestType2", b =>
                {
                    b.Property<int>("id")
                        .HasColumnType("int");

                    b.Property<string>("category")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("d1")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("d2")
                        .HasColumnType("datetime2");

                    b.Property<string>("functionName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("policyRuleRelation")
                        .HasColumnType("int");

                    b.Property<Guid>("productId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("ruleContext")
                        .HasColumnType("int");

                    b.Property<int>("ruleType")
                        .HasColumnType("int");

                    b.Property<Guid>("storeId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("username")
                        .HasColumnType("nvarchar(max)");

                    b.Property<double>("valueGreaterEQThan")
                        .HasColumnType("float");

                    b.Property<double>("valueLessThan")
                        .HasColumnType("float");

                    b.HasKey("id");

                    b.ToTable("marketRulesRequestType2");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StorePackage.MarketRulesRequestType3", b =>
                {
                    b.Property<int>("id")
                        .HasColumnType("int");

                    b.Property<string>("functionName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("storeId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("username")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("id");

                    b.ToTable("marketRulesRequestType3");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StorePackage.MarketRulesRequestType4", b =>
                {
                    b.Property<int>("id")
                        .HasColumnType("int");

                    b.Property<string>("category")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("discountType")
                        .HasColumnType("int");

                    b.Property<string>("functionName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<double>("precent")
                        .HasColumnType("float");

                    b.Property<Guid>("productId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("storeId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("username")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("id");

                    b.ToTable("marketRulesRequestType4");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StorePackage.MarketRulesRequestType5", b =>
                {
                    b.Property<int>("id")
                        .HasColumnType("int");

                    b.Property<bool>("decide")
                        .HasColumnType("bit");

                    b.Property<Guid>("discountId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("discountId2")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("discountRuleRelation")
                        .HasColumnType("int");

                    b.Property<string>("functionName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("storeId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("username")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("id");

                    b.ToTable("marketRulesRequestType5");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StorePackage.MarketRulesRequestType6", b =>
                {
                    b.Property<int>("id")
                        .HasColumnType("int");

                    b.Property<string>("category")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("d1")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("d2")
                        .HasColumnType("datetime2");

                    b.Property<int>("discountType")
                        .HasColumnType("int");

                    b.Property<string>("functionName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<double>("precent")
                        .HasColumnType("float");

                    b.Property<Guid>("productId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("ruleType")
                        .HasColumnType("int");

                    b.Property<Guid>("storeId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("username")
                        .HasColumnType("nvarchar(max)");

                    b.Property<double>("valueGreaterEQThan")
                        .HasColumnType("float");

                    b.Property<double>("valueLessThan")
                        .HasColumnType("float");

                    b.HasKey("id");

                    b.ToTable("marketRulesRequestType6");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StoreStates.Appointer", b =>
                {
                    b.Property<Guid>("sid")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("username")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Discriminator")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("sid", "username");

                    b.HasIndex("username");

                    b.ToTable("appointers");

                    b.HasDiscriminator<string>("Discriminator").HasValue("Appointer");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StoreStates.Manager", b =>
                {
                    b.Property<Guid>("sid")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("username")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("appointerID")
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("sid", "username");

                    b.HasIndex("appointerID");

                    b.HasIndex("username");

                    b.ToTable("managers");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StoreStates.Prem", b =>
                {
                    b.Property<Guid>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("BidStateid")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("Managersid")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Managerusername")
                        .HasColumnType("nvarchar(450)");

                    b.Property<Guid?>("PurchasePolicyid")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("p")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("id");

                    b.HasIndex("BidStateid");

                    b.HasIndex("PurchasePolicyid");

                    b.HasIndex("Managersid", "Managerusername");

                    b.ToTable("Prem");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.TransactionStatus", b =>
                {
                    b.Property<Guid>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("_deliveryStatusPackageId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("_paymentStatusPaymentId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<bool>("_status")
                        .HasColumnType("bit");

                    b.Property<Guid?>("productHistoriesid")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("storeID")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("username")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("id");

                    b.HasIndex("_deliveryStatusPackageId");

                    b.HasIndex("_paymentStatusPaymentId");

                    b.HasIndex("productHistoriesid");

                    b.ToTable("transactionStatuses");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.UserPackage.ProductInCart", b =>
                {
                    b.Property<int>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<Guid?>("ShoppingBasketid")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("productid")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("quantity")
                        .HasColumnType("int");

                    b.HasKey("id");

                    b.HasIndex("ShoppingBasketid");

                    b.HasIndex("productid");

                    b.ToTable("productInCarts");
                });

            modelBuilder.Entity("TradingSystem.Business.Payment.PaymentStatus", b =>
                {
                    b.Property<string>("PaymentId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<bool>("Status")
                        .HasColumnType("bit");

                    b.Property<Guid>("StoreId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Username")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("PaymentId");

                    b.ToTable("paymentStatuses");
                });

            modelBuilder.Entity("TradingSystem.Business.ProductHistoryData", b =>
                {
                    b.Property<Guid>("id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("id");

                    b.ToTable("productHistoryDatas");
                });

            modelBuilder.Entity("TradingSystem.Business.UserManagement.DataUser", b =>
                {
                    b.Property<string>("username")
                        .HasColumnType("nvarchar(450)");

                    b.Property<bool>("IsLoggedin")
                        .HasColumnType("bit");

                    b.Property<bool>("isAdmin")
                        .HasColumnType("bit");

                    b.Property<string>("password")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("phone")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("username");

                    b.ToTable("dataUsers");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.MemberState", b =>
                {
                    b.HasBaseType("TradingSystem.Business.Market.State");

                    b.HasDiscriminator().HasValue("MemberState");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StoreStates.Founder", b =>
                {
                    b.HasBaseType("TradingSystem.Business.Market.StoreStates.Appointer");

                    b.Property<Guid?>("sid1")
                        .HasColumnType("uniqueidentifier");

                    b.HasIndex("sid1")
                        .IsUnique()
                        .HasFilter("[sid1] IS NOT NULL");

                    b.HasDiscriminator().HasValue("Founder");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StoreStates.Owner", b =>
                {
                    b.HasBaseType("TradingSystem.Business.Market.StoreStates.Appointer");

                    b.Property<string>("appointerID")
                        .HasColumnType("nvarchar(450)");

                    b.Property<Guid?>("sid1")
                        .HasColumnType("uniqueidentifier")
                        .HasColumnName("Owner_sid1");

                    b.HasIndex("appointerID");

                    b.HasIndex("sid1");

                    b.HasDiscriminator().HasValue("Owner");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.AdministratorState", b =>
                {
                    b.HasBaseType("TradingSystem.Business.Market.MemberState");

                    b.HasDiscriminator().HasValue("AdministratorState");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.BidsPackage.BidState", b =>
                {
                    b.HasOne("TradingSystem.Business.Market.BidsPackage.BidsManager", null)
                        .WithMany("bidsState")
                        .HasForeignKey("BidsManagerid")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("TradingSystem.Business.Market.BidsPackage.BidsManager", b =>
                {
                    b.HasOne("TradingSystem.Business.Market.Store", "s")
                        .WithOne("BidsManager")
                        .HasForeignKey("TradingSystem.Business.Market.BidsPackage.BidsManager", "sid")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.Navigation("s");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.Product", b =>
                {
                    b.HasOne("TradingSystem.Business.Market.Category", null)
                        .WithMany("products")
                        .HasForeignKey("CategoryName");

                    b.HasOne("TradingSystem.Business.Market.Store", null)
                        .WithMany("_products")
                        .HasForeignKey("Storesid");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.ShoppingBasket", b =>
                {
                    b.HasOne("TradingSystem.Business.Market.ShoppingCart", null)
                        .WithMany("ShoppingBaskets")
                        .HasForeignKey("ShoppingCartusername");

                    b.HasOne("TradingSystem.Business.Market.ShoppingCart", "ShoppingCart")
                        .WithMany("shoppingBaskets")
                        .HasForeignKey("ShoppingCartusername1");

                    b.HasOne("TradingSystem.Business.Market.Store", "store")
                        .WithMany()
                        .HasForeignKey("storesid");

                    b.Navigation("ShoppingCart");

                    b.Navigation("store");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.Statuses.PurchasedProduct", b =>
                {
                    b.HasOne("TradingSystem.Business.ProductHistoryData", null)
                        .WithMany("productId_quantity")
                        .HasForeignKey("ProductHistoryDataid");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.Store", b =>
                {
                    b.HasOne("TradingSystem.Business.Market.Address", "_address")
                        .WithMany()
                        .HasForeignKey("_addressid");

                    b.HasOne("TradingSystem.Business.Market.PurchasePolicy", "purchasePolicy")
                        .WithMany()
                        .HasForeignKey("purchasePolicyid");

                    b.Navigation("_address");

                    b.Navigation("purchasePolicy");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StorePackage.Bid", b =>
                {
                    b.HasOne("TradingSystem.Business.Market.BidsPackage.BidState", null)
                        .WithOne("Bid")
                        .HasForeignKey("TradingSystem.Business.Market.StorePackage.Bid", "stateId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StoreStates.Appointer", b =>
                {
                    b.HasOne("TradingSystem.Business.Market.MemberState", "m")
                        .WithMany()
                        .HasForeignKey("username")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("m");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StoreStates.Manager", b =>
                {
                    b.HasOne("TradingSystem.Business.Market.MemberState", "appointer")
                        .WithMany()
                        .HasForeignKey("appointerID");

                    b.HasOne("TradingSystem.Business.Market.Store", "s")
                        .WithMany("managers")
                        .HasForeignKey("sid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("TradingSystem.Business.Market.MemberState", "m")
                        .WithMany()
                        .HasForeignKey("username")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("appointer");

                    b.Navigation("m");

                    b.Navigation("s");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StoreStates.Prem", b =>
                {
                    b.HasOne("TradingSystem.Business.Market.BidsPackage.BidState", null)
                        .WithMany("OwnersAccepted")
                        .HasForeignKey("BidStateid");

                    b.HasOne("TradingSystem.Business.Market.PurchasePolicy", null)
                        .WithMany("availablePurchaseKinds")
                        .HasForeignKey("PurchasePolicyid");

                    b.HasOne("TradingSystem.Business.Market.StoreStates.Manager", null)
                        .WithMany("store_permission")
                        .HasForeignKey("Managersid", "Managerusername");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.TransactionStatus", b =>
                {
                    b.HasOne("TradingSystem.Business.Delivery.DeliveryStatus", "_deliveryStatus")
                        .WithMany()
                        .HasForeignKey("_deliveryStatusPackageId");

                    b.HasOne("TradingSystem.Business.Payment.PaymentStatus", "_paymentStatus")
                        .WithMany()
                        .HasForeignKey("_paymentStatusPaymentId");

                    b.HasOne("TradingSystem.Business.ProductHistoryData", "productHistories")
                        .WithMany()
                        .HasForeignKey("productHistoriesid");

                    b.Navigation("_deliveryStatus");

                    b.Navigation("_paymentStatus");

                    b.Navigation("productHistories");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.UserPackage.ProductInCart", b =>
                {
                    b.HasOne("TradingSystem.Business.Market.ShoppingBasket", null)
                        .WithMany("_product_quantity")
                        .HasForeignKey("ShoppingBasketid");

                    b.HasOne("TradingSystem.Business.Market.Product", "product")
                        .WithMany()
                        .HasForeignKey("productid");

                    b.Navigation("product");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StoreStates.Founder", b =>
                {
                    b.HasOne("TradingSystem.Business.Market.Store", "s")
                        .WithOne("founder")
                        .HasForeignKey("TradingSystem.Business.Market.StoreStates.Founder", "sid1");

                    b.Navigation("s");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StoreStates.Owner", b =>
                {
                    b.HasOne("TradingSystem.Business.Market.MemberState", "appointer")
                        .WithMany()
                        .HasForeignKey("appointerID");

                    b.HasOne("TradingSystem.Business.Market.Store", "s")
                        .WithMany("owners")
                        .HasForeignKey("sid1");

                    b.Navigation("appointer");

                    b.Navigation("s");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.BidsPackage.BidState", b =>
                {
                    b.Navigation("Bid");

                    b.Navigation("OwnersAccepted");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.BidsPackage.BidsManager", b =>
                {
                    b.Navigation("bidsState");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.Category", b =>
                {
                    b.Navigation("products");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.PurchasePolicy", b =>
                {
                    b.Navigation("availablePurchaseKinds");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.ShoppingBasket", b =>
                {
                    b.Navigation("_product_quantity");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.ShoppingCart", b =>
                {
                    b.Navigation("shoppingBaskets");

                    b.Navigation("ShoppingBaskets");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.Store", b =>
                {
                    b.Navigation("_products");

                    b.Navigation("BidsManager");

                    b.Navigation("founder");

                    b.Navigation("managers");

                    b.Navigation("owners");
                });

            modelBuilder.Entity("TradingSystem.Business.Market.StoreStates.Manager", b =>
                {
                    b.Navigation("store_permission");
                });

            modelBuilder.Entity("TradingSystem.Business.ProductHistoryData", b =>
                {
                    b.Navigation("productId_quantity");
                });
#pragma warning restore 612, 618
        }
    }
}
